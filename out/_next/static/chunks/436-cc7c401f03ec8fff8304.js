(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[436],{46700:function(e,t,n){var s={"./af":42786,"./af.js":42786,"./ar":30867,"./ar-dz":14130,"./ar-dz.js":14130,"./ar-kw":96135,"./ar-kw.js":96135,"./ar-ly":56440,"./ar-ly.js":56440,"./ar-ma":47702,"./ar-ma.js":47702,"./ar-sa":16040,"./ar-sa.js":16040,"./ar-tn":37100,"./ar-tn.js":37100,"./ar.js":30867,"./az":31083,"./az.js":31083,"./be":9808,"./be.js":9808,"./bg":68338,"./bg.js":68338,"./bm":67438,"./bm.js":67438,"./bn":8905,"./bn-bd":76225,"./bn-bd.js":76225,"./bn.js":8905,"./bo":11560,"./bo.js":11560,"./br":1278,"./br.js":1278,"./bs":80622,"./bs.js":80622,"./ca":2468,"./ca.js":2468,"./cs":5822,"./cs.js":5822,"./cv":50877,"./cv.js":50877,"./cy":47373,"./cy.js":47373,"./da":24780,"./da.js":24780,"./de":59740,"./de-at":60217,"./de-at.js":60217,"./de-ch":60894,"./de-ch.js":60894,"./de.js":59740,"./dv":5300,"./dv.js":5300,"./el":50837,"./el.js":50837,"./en-au":78348,"./en-au.js":78348,"./en-ca":77925,"./en-ca.js":77925,"./en-gb":22243,"./en-gb.js":22243,"./en-ie":46436,"./en-ie.js":46436,"./en-il":47207,"./en-il.js":47207,"./en-in":44175,"./en-in.js":44175,"./en-nz":76319,"./en-nz.js":76319,"./en-sg":31662,"./en-sg.js":31662,"./eo":92915,"./eo.js":92915,"./es":55655,"./es-do":55251,"./es-do.js":55251,"./es-mx":96112,"./es-mx.js":96112,"./es-us":71146,"./es-us.js":71146,"./es.js":55655,"./et":5603,"./et.js":5603,"./eu":77763,"./eu.js":77763,"./fa":76959,"./fa.js":76959,"./fi":11897,"./fi.js":11897,"./fil":42549,"./fil.js":42549,"./fo":94694,"./fo.js":94694,"./fr":94470,"./fr-ca":63049,"./fr-ca.js":63049,"./fr-ch":52330,"./fr-ch.js":52330,"./fr.js":94470,"./fy":5044,"./fy.js":5044,"./ga":29295,"./ga.js":29295,"./gd":2101,"./gd.js":2101,"./gl":38794,"./gl.js":38794,"./gom-deva":27884,"./gom-deva.js":27884,"./gom-latn":23168,"./gom-latn.js":23168,"./gu":95349,"./gu.js":95349,"./he":24206,"./he.js":24206,"./hi":30094,"./hi.js":30094,"./hr":30316,"./hr.js":30316,"./hu":22138,"./hu.js":22138,"./hy-am":11423,"./hy-am.js":11423,"./id":29218,"./id.js":29218,"./is":90135,"./is.js":90135,"./it":90626,"./it-ch":10150,"./it-ch.js":10150,"./it.js":90626,"./ja":39183,"./ja.js":39183,"./jv":24286,"./jv.js":24286,"./ka":12105,"./ka.js":12105,"./kk":47772,"./kk.js":47772,"./km":18758,"./km.js":18758,"./kn":79282,"./kn.js":79282,"./ko":33730,"./ko.js":33730,"./ku":1408,"./ku.js":1408,"./ky":33291,"./ky.js":33291,"./lb":36841,"./lb.js":36841,"./lo":55466,"./lo.js":55466,"./lt":57010,"./lt.js":57010,"./lv":37595,"./lv.js":37595,"./me":39861,"./me.js":39861,"./mi":35493,"./mi.js":35493,"./mk":95966,"./mk.js":95966,"./ml":87341,"./ml.js":87341,"./mn":5115,"./mn.js":5115,"./mr":10370,"./mr.js":10370,"./ms":9847,"./ms-my":41237,"./ms-my.js":41237,"./ms.js":9847,"./mt":72126,"./mt.js":72126,"./my":56165,"./my.js":56165,"./nb":64924,"./nb.js":64924,"./ne":16744,"./ne.js":16744,"./nl":93901,"./nl-be":59814,"./nl-be.js":59814,"./nl.js":93901,"./nn":83877,"./nn.js":83877,"./oc-lnc":92135,"./oc-lnc.js":92135,"./pa-in":15858,"./pa-in.js":15858,"./pl":64495,"./pl.js":64495,"./pt":89520,"./pt-br":57971,"./pt-br.js":57971,"./pt.js":89520,"./ro":96459,"./ro.js":96459,"./ru":21793,"./ru.js":21793,"./sd":40950,"./sd.js":40950,"./se":10490,"./se.js":10490,"./si":90124,"./si.js":90124,"./sk":64249,"./sk.js":64249,"./sl":14985,"./sl.js":14985,"./sq":51104,"./sq.js":51104,"./sr":49131,"./sr-cyrl":79915,"./sr-cyrl.js":79915,"./sr.js":49131,"./ss":95606,"./ss.js":95606,"./sv":98760,"./sv.js":98760,"./sw":91172,"./sw.js":91172,"./ta":27333,"./ta.js":27333,"./te":23110,"./te.js":23110,"./tet":52095,"./tet.js":52095,"./tg":27321,"./tg.js":27321,"./th":9041,"./th.js":9041,"./tk":19005,"./tk.js":19005,"./tl-ph":75768,"./tl-ph.js":75768,"./tlh":89444,"./tlh.js":89444,"./tr":72397,"./tr.js":72397,"./tzl":28254,"./tzl.js":28254,"./tzm":51106,"./tzm-latn":30699,"./tzm-latn.js":30699,"./tzm.js":51106,"./ug-cn":9288,"./ug-cn.js":9288,"./uk":67691,"./uk.js":67691,"./ur":13795,"./ur.js":13795,"./uz":6791,"./uz-latn":60588,"./uz-latn.js":60588,"./uz.js":6791,"./vi":65666,"./vi.js":65666,"./x-pseudo":14378,"./x-pseudo.js":14378,"./yo":75805,"./yo.js":75805,"./zh-cn":83839,"./zh-cn.js":83839,"./zh-hk":55726,"./zh-hk.js":55726,"./zh-mo":99807,"./zh-mo.js":99807,"./zh-tw":74152,"./zh-tw.js":74152};function i(e){var t=a(e);return n(t)}function a(e){if(!n.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}i.keys=function(){return Object.keys(s)},i.resolve=a,e.exports=i,i.id=46700},20196:function(e,t,n){"use strict";var s=n(26265),i=n(85893),a=n(11163),r=n(67294),l=n(49361),o=n(31050),c=n(39983);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}t.Z=function(e){return function(t){var n=(0,a.useRouter)(),u=(0,r.useState)(!1),m=u[0],j=u[1];return(0,r.useEffect)((function(){var e=localStorage.getItem(l.De.TOKEN_NAME_INTERN);if(e){var t=(0,o.WX)(e);if(t.status){j(t.status);var s=t.jwtDecoded.usuario.type,i=s===c.jA.ADMIN,a=s===c.jA.SUPER_ADMIN,r=s===c.jA.GUEST;t.status&&(i&&(["/panel/admin"].includes(n.pathname)||n.replace("/panel/admin")),a&&(["/superadmin"].includes(n.pathname)||n.replace("/superadmin")),r&&(["/panel/user"].includes(n.pathname)||n.replace("/panel/user")))}else localStorage.removeItem(l.De.TOKEN_NAME_INTERN),n.replace("/")}else n.replace("/")}),[]),m?(0,i.jsx)(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t)):null}}},93989:function(e,t,n){"use strict";var s=n(85893),i=(n(67294),n(22318)),a=n(41749),r=n(282),l=n(41120),o=n(87623),c=n(59143),d=(0,l.Z)((function(e){return(0,o.Z)({paper:{margin:"0 auto 0 auto",maxWidth:1280,width:"40%",height:"50%",backgroundColor:e.palette.background.paper,padding:e.spacing(2,4,3)}})}));t.Z=function(e){var t=e.handleClose,n=e.handleOk,l=e.isOpen,o=e.title,u=e.subtitle,m=e.okText,j=e.cancelText,h=d(),p=(0,s.jsxs)("div",{className:h.paper,children:[(0,s.jsx)(i.Z,{variant:"h6",gutterBottom:!0,children:o}),(0,s.jsxs)(a.Z,{container:!0,spacing:3,direction:"column",children:[(0,s.jsx)(a.Z,{item:!0,xs:12,md:12,children:(0,s.jsx)(i.Z,{variant:"h6",gutterBottom:!0,children:u})}),(0,s.jsxs)(a.Z,{container:!0,spacing:2,justify:"flex-end",alignContent:"flex-end",children:[(0,s.jsx)(a.Z,{item:!0,children:(0,s.jsx)(r.Z,{size:"medium",onClick:t,variant:"contained",children:j})}),(0,s.jsx)(a.Z,{item:!0,children:(0,s.jsx)(r.Z,{size:"medium",color:"primary",onClick:n,variant:"contained",children:m})})]})]})]});return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(c.Z,{open:l,onClose:t,style:{display:"flex",justifyContent:"center",alignItems:"center"},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:p})})}},28274:function(e,t,n){"use strict";n.d(t,{Z:function(){return E}});var s=n(809),i=n.n(s),a=n(92447),r=n(85893),l=n(67294),o=n(41120),c=n(18463),d=n(79912),u=n(69826),m=n(33901),j=n(22318),h=n(41749),p=n(36253),x=n(87748),f=n(282),g=n(39983),v=n(73431),b=(0,o.Z)((function(e){return{root:{display:"flex",height:"100%",borderLeft:"1px solid",borderLeftColor:g.DM.GRAY_MEDIUM,paddingLeft:"2rem",flexDirection:"column"},information:{marginTop:"-0.4rem",marginBottom:"1.3rem"}}})),Z=function(e){var t=e.type,n=(0,l.useContext)(v.ZP),s=n.profile,o=n.updateName,c=b(),d=(0,l.useState)(!0),u=d[0],m=d[1],Z=(0,l.useState)(""),y=Z[0],C=Z[1],A=(0,l.useState)(!1),N=A[0],k=A[1],O=(0,l.useState)(s.name),w=O[0],E=O[1],S=function(){m(!u),C(""),k(!1)};(0,l.useEffect)((function(){E(s.name)}),[]);var T=function(){var e=!0;return!w||0===w.trim().length||w.trim().length>=100?(k(!0),C("Ingrese un nombre v\xe1lido"),e=!1):w.trim().includes(" ")?(k(!0),C("No puedes incluir espacios"),e=!1):w.trim().length<5&&(k(!0),C("Deben ser al menos 5 caracteres."),e=!1),e},I=function(){var e=(0,a.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!T()){e.next=6;break}return e.next=3,o(w.trim());case 3:0===(t=e.sent).status?E(t.name):E(s.name),S();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e="Invitaci\xf3n";return t===g.nb.ADMIN&&(e="Administrador"),t===g.nb.SUPER&&(e="Super administrador"),t===g.nb.GUEST&&(e="Invitado"),(0,r.jsx)(j.Z,{variant:"h5",gutterBottom:!0,style:{position:"relative",left:"-10px",textTransform:"uppercase"},children:(0,r.jsx)(x.Z,{fontWeight:"fontWeightBold",m:1,children:e})})};return(0,r.jsxs)("div",{className:c.root,children:[(0,r.jsx)(P,{}),(0,r.jsxs)("h3",{className:c.information,children:["Information ",(0,r.jsx)(f.Z,{onClick:S,variant:"contained",color:"primary",children:u?"Editar":"Cancelar"})," "]}),(0,r.jsxs)(h.Z,{container:!0,spacing:3,direction:"column",children:[(0,r.jsx)(h.Z,{item:!0,xs:12,md:12,children:(0,r.jsx)(p.Z,{error:N,helperText:y,datatype:"text",onChange:function(e){k(!1),C(""),E(e.target.value)},placeholder:s.name,value:w,required:!0,id:"cardName",disabled:u,label:"Name",fullWidth:!0})}),(0,r.jsx)(h.Z,{item:!0,xs:12,md:12,children:(0,r.jsx)(p.Z,{value:s.email,disabled:!0,required:!0,label:"Email",fullWidth:!0})}),!u&&(0,r.jsx)(h.Z,{item:!0,xs:12,md:12,children:(0,r.jsx)(f.Z,{onClick:I,variant:"contained",color:"primary",children:"salvar"})})]})]})},y=n(17812),C=n(93989),A=n(9669),N=n.n(A),k=function(e){var t=e.type,n=e.toggleEditAvatar,s=w(),i=(0,l.useContext)(v.ZP).profile;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(d.Z,{children:[(0,r.jsx)(m.Z,{src:i.thumbnail,alt:"Remy Sharp",className:s.large}),(0,r.jsx)("button",{onClick:n,className:s.buttonEdit,children:"Edit Avatar"})]}),(0,r.jsx)(Z,{type:t})]})},O=function(e){var t=e.toggleEditAvatar,n="https://ocupath.readyplayer.me/",s=w(),o=(0,l.useState)(!1),c=o[0],d=o[1],m=(0,l.useContext)(v.ZP).updateUser,j=(0,l.useState)(null),h=j[0],p=j[1],x=function(e){n.includes(e.origin)&&(p(e.data),d(!0))},g=function(){var e=(0,a.Z)(i().mark((function e(){var t,n,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!1),e.next=3,N().post("https://render.readyplayer.me/render",{model:h,scene:"halfbody-portrait-v1"});case 3:return t=e.sent,n=t.data,s=new v.yd({avatar:h,name:null,thumbnail:n.renders[0]}),e.next=8,m(s);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,l.useEffect)((function(){return window.addEventListener("message",x,!1),function(){window.removeEventListener("message",x)}}),[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(C.Z,{cancelText:"Cancel",okText:"Sure",isOpen:c,title:"SAVE AVATAR",handleClose:function(){d(!1)},handleOk:g,subtitle:"Are you sure you want to save these changes?"}),(0,r.jsxs)("div",{className:s.rootIframe,children:[(0,r.jsx)("div",{className:s.header,children:(0,r.jsx)(y.Z,{onClick:t,"aria-label":"delete",children:(0,r.jsx)(u.Z,{})})}),(0,r.jsx)("iframe",{className:s.iframe,src:n}),(0,r.jsx)("div",{className:s.button,children:null!==h&&(0,r.jsx)(f.Z,{onClick:function(){return d(!0)},variant:"contained",href:"#contained-buttons",children:"Save Changes"})})]})]})},w=(0,o.Z)((function(e){return{root:{display:"flex",height:"100%",padding:"2rem",borderTop:"2rem solid",borderTopColor:g.DM.GRAY_MEDIUM,borderBottom:"2rem solid",borderBottomColor:g.DM.GRAY_MEDIUM},rootIframe:{display:"flex",flex:1,flexDirection:"column",height:"100%"},iframe:{width:"100%",height:"82%"},header:{height:"8%"},button:{height:"10%",display:"flex",paddingRight:"1rem",justifyContent:"flex-end",alignItems:"center"},buttonEdit:{borderColor:"black",border:"solid 1px",textalign:"center",width:"100%",background:"transparent",borderRadius:"19pt",paddingTop:"0.12rem",cursor:"pointer",paddingBottom:"0.12rem","&:hover":{background:"#eeee"}},large:{width:e.spacing(12),height:e.spacing(12),marginBottom:"0.5rem",marginTop:"3rem"}}})),E=function(e){var t=e.type,n=(0,l.useContext)(v.ZP).getUserDetail,s=w();(0,l.useEffect)((function(){n()}),[]);var i=(0,l.useState)(!1),a=i[0],o=i[1],d=function(){o(!a)};return(0,r.jsxs)(c.Z,{className:s.root,children:[!a&&(0,r.jsx)(k,{toggleEditAvatar:d,type:t}),a&&(0,r.jsx)(O,{toggleEditAvatar:d})]})}},11738:function(e,t,n){"use strict";var s=n(85893),i=n(809),a=n.n(i),r=n(92447),l=n(26265),o=n(67294),c=n(22318),d=n(41749),u=n(36253),m=n(282),j=n(75916),h=n(39983),p=n(30381),x=n.n(p),f=n(87827),g=n(90204),v=n(41120),b=n(87623),Z=n(59143),y=n(31050),C=n(73431);function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k=(0,v.Z)((function(e){return(0,b.Z)({paper:{margin:"0 auto 0 auto",maxWidth:1280,width:"40%",height:"50%",backgroundColor:e.palette.background.paper,padding:e.spacing(2,4,3)}})})),O=function(e){var t;return e===h.Z3&&(t=2),e===h._5&&(t=3),{company:"",name:"",cost:0,email:"",finishedAt:"",startedAt:"",invitations:0,typeToInvite:t}},w=function(){return{company:null,name:null,cost:null,email:null,finishedAt:null,startedAt:null,invitations:null}};t.Z=function(e){e.handleOpen;var t=e.handleClose,n=e.isOpen,i=e.type,p=(0,o.useState)(new Date),v=p[0],b=p[1],A=(0,o.useState)(new Date),E=A[0],S=A[1],T=(0,o.useState)(O(i)),I=T[0],P=T[1],D=(0,o.useState)(w()),M=D[0],U=D[1],W=(0,o.useContext)(C.ZP).inviteUser,z=function(e){U(w()),P(N(N({},I),{},(0,l.Z)({},e.target.name,e.target.value)))},V=function(){var e=!0;console.log("Validando comunes");var t=N({},M);return(0,y.lm)(I.email)||(console.log("No es v\xe1lido"),t.email="Ingrese un valor v\xe1lido",console.log("Validando email"),e=!1),x()(v).isValid()&&!x()(v).isAfter(E)||(t.startedAt="Debes seleccionar una fecha",e=!1),x()(E).isValid()&&!x()(E).isBefore(v)||(t.finishedAt="Debes seleccionar una fecha",e=!1),x()(E).isSame(v)&&(t.finishedAt="Las fechas deben ser distintas",t.startedAt="Las fechas deben ser distintas",e=!1),I.cost<=0&&(t.cost="No puedes colocar este valor",e=!1),e||U(t),e},B=function(){var e=!0;console.log("Validando compa\xf1yu");var t=N({},M);return 0===I.company.trim().length&&(t.company="Ingrese un valor v\xe1lido",e=!1),I.invitations<=1&&(t.invitations="Ingrese un m\xednimo de ".concat(1," ").concat("invitaci\xf3n."),e=!1),I.invitations>4&&(t.invitations="Solo puedes escoger hasta ".concat(4," invitaciones."),e=!1),console.log("validateCompany:",{newErrors:t}),e||U(t),e},L=function(){var e=!0;return 0===I.name.trim().length&&(U(N(N({},M),{},{name:"Ingrese un valor v\xe1lido"})),e=!1),console.log("validateGuest:",{isValid:e}),e},_=function(){var e=(0,r.Z)(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i===h.Z3?B:L,!V()||!t()){e.next=9;break}return U(w()),n=N(N({},I),{},{startedAt:v,finishedAt:E}),e.next=6,W(n);case 6:P(O(i)),e.next=10;break;case 9:alert("Invalid!");case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=k(),q=function(){var e="Invitaci\xf3n";return i===h.Z3&&(e="INVITE NEW COMPANY"),i===h._5&&(e="INVITE NEW GUEST"),(0,s.jsx)(c.Z,{variant:"h6",gutterBottom:!0,children:e})},G=(0,s.jsxs)("div",{className:R.paper,children:[(0,s.jsx)(q,{}),(0,s.jsxs)(d.Z,{container:!0,spacing:3,direction:"column",children:[i===h.Z3&&(0,s.jsx)(d.Z,{item:!0,xs:12,md:6,children:(0,s.jsx)(u.Z,{helperText:M.company,error:null!==M.company,onChange:z,required:!0,type:"string",name:"company",id:"company",label:"Company",fullWidth:!0,value:I.company})}),i===h._5&&(0,s.jsx)(d.Z,{item:!0,xs:12,md:6,children:(0,s.jsx)(u.Z,{helperText:M.name,error:null!==M.name,onChange:z,required:!0,type:"string",name:"name",id:"name",label:"Name",value:I.name,fullWidth:!0,autoComplete:"name"})}),(0,s.jsx)(d.Z,{item:!0,xs:12,md:6,children:(0,s.jsx)(u.Z,{required:!0,helperText:M.email,error:null!==M.email,onChange:z,type:"email",name:"email",label:"Email",fullWidth:!0,value:I.email})}),i===h.Z3&&(0,s.jsx)(d.Z,{item:!0,xs:12,md:6,children:(0,s.jsx)(u.Z,{name:"invitations",helperText:M.invitations,onChange:z,error:null!==M.invitations,type:"number",required:!0,label:"No. of invitations",value:I.invitations,fullWidth:!0})}),(0,s.jsx)(d.Z,{item:!0,xs:12,md:12,children:(0,s.jsxs)(f.M,{utils:j.Z,children:[(0,s.jsx)(g.M,{name:"startedAt",helperText:M.startedAt,value:v,onChange:function(e){U(w()),x()(e.format()).isAfter(E)?U(N(N({},M),{},{startedAt:"La fecha debe ser anterior a la final."})):b(e.format())}}),(0,s.jsx)(g.M,{name:"finishedAt",value:E,helperText:M.finishedAt,onChange:function(e){U(w()),console.log({e:e},e.format()),x()(e.format()).isBefore(v)?U(N(N({},M),{},{finishedAt:"La fecha debe ser despu\xe9s al inicio."})):S(e.format())}})]})}),(0,s.jsx)(d.Z,{item:!0,xs:12,md:6,children:(0,s.jsx)(u.Z,{required:!0,onChange:z,value:I.cost,error:null!==M.cost,name:"cost",helperText:M.cost,label:"Total cost",fullWidth:!0})}),(0,s.jsxs)(d.Z,{container:!0,spacing:2,justify:"flex-end",alignContent:"flex-end",children:[(0,s.jsx)(d.Z,{item:!0,children:(0,s.jsx)(m.Z,{size:"medium",onClick:t,variant:"contained",children:"Cancel"})}),(0,s.jsx)(d.Z,{item:!0,children:(0,s.jsx)(m.Z,{onClick:_,size:"medium",color:"primary",variant:"contained",children:"Send invite"})})]})]})]});return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(Z.Z,{open:n,onClose:t,style:{display:"flex",justifyContent:"center",alignItems:"center"},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:G})})}},25946:function(e,t,n){"use strict";var s=n(809),i=n.n(s),a=n(92447),r=n(26265),l=n(85893),o=n(67294),c=n(22318),d=n(41749),u=n(62822),m=n(50998),j=n(95757),h=n(79895),p=n(36253),x=n(75916),f=n(49361),g=n(39983),v=n(87827),b=n(90204),Z=n(41120),y=n(87623),C=n(59143),A=n(73431),N=n(87748),k=n(282),O=n(95477),w=n(30381),E=n.n(w);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I=function(){var e=(0,o.useContext)(A.ZP).selectedUser,t=U();return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(c.Z,{variant:"h6",gutterBottom:!0,children:"USER DETAIL ADMIN"}),(0,l.jsxs)(d.Z,{container:!0,spacing:3,children:[(0,l.jsx)(d.Z,{item:!0,xs:12,sm:6,children:(0,l.jsx)(p.Z,{disabled:!0,defaultValue:e.name,id:"firstName",name:"firstName",label:"First name",fullWidth:!0,autoComplete:"given-name"})}),(0,l.jsx)(d.Z,{item:!0,xs:12,sm:6,children:(0,l.jsx)(p.Z,{defaultValue:e.lastname,disabled:!0,id:"lastName",name:"lastName",label:"Last name",fullWidth:!0,autoComplete:"family-name"})}),(0,l.jsx)(d.Z,{item:!0,xs:12,children:(0,l.jsx)(p.Z,{defaultValue:e.name,disabled:!0,required:!0,id:"company",name:"company",label:"Company"})}),(0,l.jsx)(d.Z,{item:!0,xs:12,children:(0,l.jsx)(p.Z,{disabled:!0,defaultValue:e.email,id:"email",name:"email",label:"Email"})})]}),(0,l.jsx)(d.Z,{container:!0,spacing:2,children:(0,l.jsxs)(d.Z,{item:!0,xs:12,sm:12,children:[(0,l.jsx)(c.Z,{variant:"h6",gutterBottom:!0,className:t.title,children:"Plan Information"}),(0,l.jsxs)(d.Z,{container:!0,spacing:3,children:[(0,l.jsx)(d.Z,{item:!0,xs:12,children:(0,l.jsx)(p.Z,{defaultValue:e.lastSuscription.invitations,required:!0,disabled:!0,id:"invitations",name:"invitations",label:"No. of invitations:"})}),(0,l.jsx)(d.Z,{item:!0,xs:12,sm:3,direction:"row",children:(0,l.jsx)(v.M,{utils:x.Z,children:(0,l.jsx)(b.M,{onChange:function(){},disabled:!0,value:e.lastSuscription.startedAt})})}),(0,l.jsx)(d.Z,{item:!0,xs:12,sm:3,children:(0,l.jsx)(v.M,{utils:x.Z,children:(0,l.jsx)(b.M,{onChange:function(){},disabled:!0,value:e.lastSuscription.finishedAt,contentEditable:!1})})}),(0,l.jsx)(d.Z,{item:!0,xs:8,children:(0,l.jsx)(p.Z,{disabled:!0,defaultValue:e.lastSuscription.cost,id:"totalCost",name:"totalCost",label:"Total Cost"})}),(0,l.jsx)(d.Z,{item:!0,xs:12,children:(0,l.jsx)(u.Z,{disablePadding:!0,children:(0,l.jsxs)(m.Z,{className:t.listItem,children:[(0,l.jsx)(j.Z,{primary:"Grand Total"}),(0,l.jsx)(c.Z,{variant:"subtitle1",className:t.total,children:"$34.06"})]})})})]})]})}),e.suscriptionWaiting&&(0,l.jsx)(d.Z,{container:!0,spacing:2,children:(0,l.jsxs)(d.Z,{item:!0,xs:12,sm:12,children:[(0,l.jsx)(c.Z,{variant:"h6",gutterBottom:!0,className:t.title,children:"Siguiente periodo"}),(0,l.jsxs)(d.Z,{container:!0,spacing:3,children:[(0,l.jsx)(d.Z,{item:!0,xs:12,children:(0,l.jsx)(p.Z,{defaultValue:e.suscriptionWaiting.invitations,required:!0,disabled:!0,id:"invitations",name:"invitations",label:"No. of invitations:"})}),(0,l.jsx)(d.Z,{item:!0,xs:12,sm:3,direction:"row",children:(0,l.jsx)(v.M,{utils:x.Z,children:(0,l.jsx)(b.M,{onChange:function(){},disabled:!0,value:e.suscriptionWaiting.startedAt})})}),(0,l.jsx)(d.Z,{item:!0,xs:12,sm:3,children:(0,l.jsx)(v.M,{utils:x.Z,children:(0,l.jsx)(b.M,{onChange:function(){},disabled:!0,value:e.suscriptionWaiting.finishedAt,contentEditable:!1})})}),(0,l.jsx)(d.Z,{item:!0,xs:8,children:(0,l.jsx)(p.Z,{disabled:!0,defaultValue:e.suscriptionWaiting.cost,id:"totalCost",name:"totalCost",label:"Total Cost"})}),(0,l.jsx)(d.Z,{item:!0,xs:12,children:(0,l.jsx)(u.Z,{disablePadding:!0,children:(0,l.jsxs)(m.Z,{className:t.listItem,children:[(0,l.jsx)(j.Z,{primary:"Grand Total"}),(0,l.jsx)(c.Z,{variant:"subtitle1",className:t.total,children:"$34.06"})]})})})]})]})})]})},P=function(){var e=(0,o.useContext)(A.ZP).selectedUser,t=U();return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(c.Z,{variant:"h6",gutterBottom:!0,children:"USER DETAIL GUEST"}),(0,l.jsxs)(d.Z,{container:!0,spacing:3,children:[(0,l.jsx)(d.Z,{item:!0,xs:12,sm:6,children:(0,l.jsx)(p.Z,{disabled:!0,defaultValue:e.name,id:"firstName",name:"firstName",label:"First name",fullWidth:!0,autoComplete:"given-name"})}),(0,l.jsx)(d.Z,{item:!0,xs:12,sm:6,children:(0,l.jsx)(p.Z,{defaultValue:e.lastname,disabled:!0,id:"lastName",name:"lastName",label:"Last name",fullWidth:!0,autoComplete:"family-name"})}),(0,l.jsx)(d.Z,{item:!0,xs:12,children:(0,l.jsx)(p.Z,{value:e.email,id:"email",disabled:!0,name:"email",label:"Email"})})]}),(0,l.jsx)(d.Z,{container:!0,spacing:2,children:(0,l.jsxs)(d.Z,{item:!0,xs:12,sm:12,children:[(0,l.jsx)(c.Z,{variant:"h6",gutterBottom:!0,className:t.title,children:"Plan Information"}),(0,l.jsxs)(d.Z,{container:!0,spacing:3,children:[(0,l.jsx)(d.Z,{item:!0,xs:12,sm:3,direction:"row",children:(0,l.jsx)(v.M,{utils:x.Z,children:(0,l.jsx)(b.M,{onChange:function(){},disabled:!0,value:e.lastSuscription.startedAt})})}),(0,l.jsx)(d.Z,{item:!0,xs:12,sm:3,children:(0,l.jsx)(v.M,{utils:x.Z,children:(0,l.jsx)(b.M,{onChange:function(){},disabled:!0,value:e.lastSuscription.finishedAt,contentEditable:!1})})}),(0,l.jsx)(d.Z,{item:!0,xs:8,children:(0,l.jsx)(p.Z,{disabled:!0,defaultValue:e.lastSuscription.cost,id:"totalCost",name:"totalCost",label:"Total Cost"})}),(0,l.jsx)(d.Z,{item:!0,xs:12,children:(0,l.jsx)(u.Z,{disablePadding:!0,children:(0,l.jsxs)(m.Z,{className:t.listItem,children:[(0,l.jsx)(j.Z,{primary:"Grand Total"}),(0,l.jsx)(c.Z,{variant:"subtitle1",className:t.total,children:"$34.06"})]})})})]})]})}),e.suscriptionWaiting&&(0,l.jsx)(d.Z,{container:!0,spacing:2,children:(0,l.jsxs)(d.Z,{item:!0,xs:12,sm:12,children:[(0,l.jsx)(c.Z,{variant:"h6",gutterBottom:!0,className:t.title,children:"Siguiente periodo"}),(0,l.jsxs)(d.Z,{container:!0,spacing:3,children:[(0,l.jsx)(d.Z,{item:!0,xs:12,sm:3,direction:"row",children:(0,l.jsx)(v.M,{utils:x.Z,children:(0,l.jsx)(b.M,{onChange:function(){},disabled:!0,value:e.suscriptionWaiting.startedAt})})}),(0,l.jsx)(d.Z,{item:!0,xs:12,sm:3,children:(0,l.jsx)(v.M,{utils:x.Z,children:(0,l.jsx)(b.M,{onChange:function(){},disabled:!0,value:e.suscriptionWaiting.finishedAt,contentEditable:!1})})}),(0,l.jsx)(d.Z,{item:!0,xs:8,children:(0,l.jsx)(p.Z,{disabled:!0,defaultValue:e.suscriptionWaiting.cost,id:"totalCost",name:"totalCost",label:"Total Cost"})}),(0,l.jsx)(d.Z,{item:!0,xs:12,children:(0,l.jsx)(u.Z,{disablePadding:!0,children:(0,l.jsxs)(m.Z,{className:t.listItem,children:[(0,l.jsx)(j.Z,{primary:"Grand Total"}),(0,l.jsx)(c.Z,{variant:"subtitle1",className:t.total,children:"$34.06"})]})})})]})]})})]})},D=function(e){var t=e.typeToUpdate,n=e.setHasNewPeriod,s=e.handleClose,c=(0,o.useContext)(A.ZP),u=c.selectedUser,m=c.addNewPeriod,j=(c.getUserChildrens,U(),(0,o.useState)({invitations:0,finishedAt:"",startedAt:"",cost:0})),h=j[0],Z=j[1];(0,o.useEffect)((function(){console.log({selectedUser:u})}),[]);var y=function(e){O(M()),Z(T(T({},h),{},(0,r.Z)({},e.target.name,e.target.value)))},C=(0,o.useState)(M()),N=C[0],O=C[1],w=(0,o.useState)(new Date),S=w[0],I=w[1],P=(0,o.useState)(new Date),D=P[0],W=P[1],z=function(){var e=!0;console.log("Validando compa\xf1yu");var t=T({},N);return h.invitations<=f.rb&&(t.invitations="Ingrese un m\xednimo de ".concat(f.rb," ").concat(1===f.rb?"invitaci\xf3n.":"invitaciones."),e=!1),h.invitations>f.qx&&(t.invitations="Solo puedes escoger hasta ".concat(f.qx," invitaciones."),e=!1),e||O(t),e},V=function(){var e=!0,t=T({},N);return E()(S).isValid()&&!E()(S).isAfter(D)||(t.startedAt="Debes seleccionar una fecha",e=!1),E()(D).isValid()&&!E()(D).isBefore(S)||(t.finishedAt="Debes seleccionar una fecha",e=!1),E()(D).isSame(S)&&(t.finishedAt="Las fechas deben ser distintas",t.startedAt="Las fechas deben ser distintas",e=!1),h.cost<=0&&(t.cost="No puedes colocar este valor",e=!1),e||O(t),e},B=function(){var e=(0,a.Z)(i().mark((function e(){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O(M()),(t!==g.jA.ADMIN||z())&&V()){e.next=5;break}return console.log(N),alert("Invalid!"),e.abrupt("return");case 5:if(t!==g.jA.GUEST||V()){e.next=9;break}return alert("Invalid!"),console.log(N),e.abrupt("return");case 9:return a=T(T({},h),{},{startedAt:S,finishedAt:D,typeToUpdate:t,adminUuidToUpdate:t===g.jA.ADMIN?u.uuid:null,guestUuidToUpdate:t===g.jA.GUEST?u.uuid:null}),console.log({newPeriodDTO:a}),e.next=13,m(a);case 13:n(!1),s();case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(d.Z,{container:!0,spacing:2,children:(0,l.jsx)(d.Z,{item:!0,xs:12,sm:12,children:(0,l.jsxs)(d.Z,{container:!0,spacing:3,children:[t===g.jA.ADMIN&&(0,l.jsx)(d.Z,{item:!0,xs:12,children:(0,l.jsx)(p.Z,{defaultValue:u.lastSuscription.invitations,onChange:y,helperText:N.invitations,error:null!==N.invitations,required:!0,id:"invitations",name:"invitations",label:"No. of invitations:",value:h.invitations})}),(0,l.jsx)(d.Z,{item:!0,xs:12,sm:3,direction:"row",children:(0,l.jsx)(v.M,{utils:x.Z,children:(0,l.jsx)(b.M,{onChange:function(e){O(M()),E()(e.format()).isAfter(D)?O(T(T({},N),{},{startedAt:"La fecha debe ser anterior a la final."})):I(e.format())},name:"startedAt",value:S,helperText:N.startedAt})})}),(0,l.jsx)(d.Z,{item:!0,xs:12,sm:3,children:(0,l.jsx)(v.M,{utils:x.Z,children:(0,l.jsx)(b.M,{onChange:function(e){O(M()),console.log({e:e},e.format()),E()(e.format()).isBefore(S)?O(T(T({},N),{},{finishedAt:"La fecha debe ser despu\xe9s al inicio."})):W(e.format())},name:"finishedAt",value:D,helperText:N.finishedAt,contentEditable:!1})})}),(0,l.jsx)(d.Z,{item:!0,xs:8,children:(0,l.jsx)(p.Z,{defaultValue:u.lastSuscription.cost,onChange:y,name:"cost",error:null!==N.cost,helperText:N.cost,value:h.cost,label:"Total Cost"})}),(0,l.jsx)(d.Z,{item:!0,xs:10,children:(0,l.jsx)(k.Z,{variant:"contained",onClick:B,color:"primary",children:"Add"})})]})})})})},M=function(){return{cost:null,invitations:null,finishedAt:null,startedAt:null}},U=(0,Z.Z)((function(e){return(0,y.Z)({listItem:{padding:e.spacing(1,0)},total:{fontWeight:700},title:{marginTop:e.spacing(2)},paper:{margin:"0 auto 0 auto",height:"50%",backgroundColor:e.palette.background.paper,padding:e.spacing(2,4,3)},layout:(0,r.Z)({width:"auto",marginLeft:e.spacing(2),marginRight:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(2)),{width:"50%",marginLeft:"auto",marginRight:"auto"})})}));t.Z=function(e){var t=e.handleClose,n=e.isOpen,s=e.type,i=(0,o.useContext)(A.ZP),a=i.selectedUser,r=i.loading,c=U(),d=(0,o.useState)(!1),u=d[0],m=d[1],j=(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("main",{className:c.layout,children:(0,l.jsxs)(h.Z,{className:c.paper,children:[s===g.jA.GUEST&&(0,l.jsx)(P,{}),s===g.jA.ADMIN&&(0,l.jsx)(I,{}),u&&(0,l.jsx)(D,{typeToUpdate:s,setHasNewPeriod:m,handleClose:t}),!a.suscriptionWaiting&&(0,l.jsx)(N.Z,{display:"flex",justifyContent:"flex-end",alignItems:"center",children:(0,l.jsx)(k.Z,{variant:"contained",onClick:function(){m(!u)},color:"primary",children:"Add Period"})})]})})});return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(C.Z,{open:n,onClose:function(e){t(e),m(!1)},style:{display:"flex",justifyContent:"center",alignItems:"center"},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:r?(0,l.jsx)(O.Z,{color:"secondary"}):j})})}}}]);