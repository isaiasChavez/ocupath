(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[990],{55517:function(e,t,n){"use strict";var r=n(22122),a=n(2949),o=n(67294),s=(n(45697),n(86010)),i=n(14670),l=n(59693),c=o.forwardRef((function(e,t){var n=e.absolute,i=void 0!==n&&n,l=e.classes,c=e.className,u=e.component,d=void 0===u?"hr":u,p=e.flexItem,f=void 0!==p&&p,h=e.light,m=void 0!==h&&h,g=e.orientation,v=void 0===g?"horizontal":g,x=e.role,j=void 0===x?"hr"!==d?"separator":void 0:x,y=e.variant,Z=void 0===y?"fullWidth":y,b=(0,a.Z)(e,["absolute","classes","className","component","flexItem","light","orientation","role","variant"]);return o.createElement(d,(0,r.Z)({className:(0,s.Z)(l.root,c,"fullWidth"!==Z&&l[Z],i&&l.absolute,f&&l.flexItem,m&&l.light,"vertical"===v&&l.vertical),role:j,ref:t},b))}));t.Z=(0,i.Z)((function(e){return{root:{height:1,margin:0,border:"none",flexShrink:0,backgroundColor:e.palette.divider},absolute:{position:"absolute",bottom:0,left:0,width:"100%"},inset:{marginLeft:72},light:{backgroundColor:(0,l.U1)(e.palette.divider,.08)},middle:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},vertical:{height:"100%",width:1},flexItem:{alignSelf:"stretch",height:"auto"}}}),{name:"MuiDivider"})(c)},86347:function(e,t,n){"use strict";var r=n(85893),a=n(45258),o=n(28358),s=n(22318),i=n(41120),l=n(39983),c=(0,i.Z)((function(e){return{toolbar:{paddingRight:24},title:{flexGrow:1}}}));t.Z=function(){var e=c();return(0,r.jsx)(a.Z,{style:{backgroundColor:l.DM.gray},children:(0,r.jsx)(o.Z,{className:e.toolbar,children:(0,r.jsx)(s.Z,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:e.title,children:"OCUPATH"})})})}},73886:function(e,t,n){"use strict";n.d(t,{Z:function(){return L}});var r=n(26265),a=n(85893),o=n(809),s=n.n(o),i=n(92447),l=n(67294),c=n(41120),u=n(14670),d=n(87623),p=n(79895),f=n(14096),h=n(41423),m=n(22122),g=n(2949),v=(n(65122),n(45697),n(86010)),x=l.forwardRef((function(e,t){var n=e.cellHeight,r=void 0===n?180:n,a=e.children,o=e.classes,s=e.className,i=e.cols,c=void 0===i?2:i,u=e.component,d=void 0===u?"ul":u,p=e.spacing,f=void 0===p?4:p,h=e.style,x=(0,g.Z)(e,["cellHeight","children","classes","className","cols","component","spacing","style"]);return l.createElement(d,(0,m.Z)({className:(0,v.Z)(o.root,s),ref:t,style:(0,m.Z)({margin:-f/2},h)},x),l.Children.map(a,(function(e){if(!l.isValidElement(e))return null;var t=e.props.cols||1,n=e.props.rows||1;return l.cloneElement(e,{style:(0,m.Z)({width:"".concat(100/c*t,"%"),height:"auto"===r?"auto":r*n+f,padding:f/2},e.props.style)})})))})),j=(0,u.Z)({root:{display:"flex",flexWrap:"wrap",overflowY:"auto",listStyle:"none",padding:0,WebkitOverflowScrolling:"touch"}},{name:"MuiGridList"})(x),y=n(87329),Z=n(79437),b=n(83711),w=function(e,t){var n,r,a,o;e&&e.complete&&(e.width/e.height>e.parentElement.offsetWidth/e.parentElement.offsetHeight?((n=e.classList).remove.apply(n,(0,y.Z)(t.imgFullWidth.split(" "))),(r=e.classList).add.apply(r,(0,y.Z)(t.imgFullHeight.split(" ")))):((a=e.classList).remove.apply(a,(0,y.Z)(t.imgFullHeight.split(" "))),(o=e.classList).add.apply(o,(0,y.Z)(t.imgFullWidth.split(" ")))))};var C=l.forwardRef((function(e,t){var n=e.children,r=e.classes,a=e.className,o=(e.cols,e.component),s=void 0===o?"li":o,i=(e.rows,(0,g.Z)(e,["children","classes","className","cols","component","rows"])),c=l.useRef(null);return l.useEffect((function(){!function(e,t){e&&(e.complete?w(e,t):e.addEventListener("load",(function(){w(e,t)})))}(c.current,r)})),l.useEffect((function(){var e=(0,Z.Z)((function(){w(c.current,r)}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}),[r]),l.createElement(s,(0,m.Z)({className:(0,v.Z)(r.root,a),ref:t},i),l.createElement("div",{className:r.tile},l.Children.map(n,(function(e){return l.isValidElement(e)?"img"===e.type||(0,b.Z)(e,["Image"])?l.cloneElement(e,{ref:c}):e:null}))))})),E=(0,u.Z)({root:{boxSizing:"border-box",flexShrink:0},tile:{position:"relative",display:"block",height:"100%",overflow:"hidden"},imgFullHeight:{height:"100%",transform:"translateX(-50%)",position:"relative",left:"50%"},imgFullWidth:{width:"100%",position:"relative",transform:"translateY(-50%)",top:"50%"}},{name:"MuiGridListTile"})(C),N=n(39983),I=n(41749),U=n(87748),O=n(282),k=n(18463),F=n(43286),S=n(8903);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var L=function(){var e=(0,l.useState)(0),t=e[0],n=e[1],r=W();(0,l.useEffect)((function(){o(),s(t)}),[t]);var o=(0,l.useContext)(S.Co).getAssetsUser,s=function(e){};return(0,a.jsx)(I.Z,{container:!0,className:r.root,children:(0,a.jsx)(I.Z,{item:!0,xs:12,children:(0,a.jsxs)(p.Z,{className:r.paper,children:[(0,a.jsxs)(_,{value:t,onChange:function(e,t){n(t)},"aria-label":"ant example",children:[(0,a.jsx)(V,{label:"Images"}),(0,a.jsx)(V,{label:"360 Images"}),(0,a.jsx)(V,{label:"Video"}),(0,a.jsx)(V,{label:"360 Videos"})]}),t===N.he.IMG&&(0,a.jsx)(H,{}),t===N.he.IMG_360&&(0,a.jsx)(R,{}),t===N.he.VIDEO&&(0,a.jsx)(A,{}),t===N.he.VIDEO_360&&(0,a.jsx)(M,{})]})})})},H=function(){var e=(0,l.useContext)(S.Co),t=e.assets,n=e.successCreate,r=W(),o=(0,l.useState)([]),c=o[0],u=o[1];(0,l.useEffect)((function(){0!==c.length&&d()}),[c]);var d=function(){var e=(0,i.Z)(s().mark((function e(){var t,r,a,o,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=c[0],(r=new FormData).append("upload",t),e.next=6,F.Z.post(N.ns.urlUploadImage,r);case 6:return a=e.sent,o={url:a.data,typeAsset:N.v2.IMG},e.next=10,F.Z.post(N.ns.createAsset,o);case 10:i=e.sent,console.log({responseUploadUser:i}),0===i.data.status&&n(i.data.asset),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),console.log({error:e.t0}),alert("Ha ocurrido un error al subir las imagenes");case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(j,{cellHeight:100,className:r.gridList,cols:7,children:t.images.map((function(e,t){return(0,a.jsx)(E,{cols:1,style:{height:180},children:(0,a.jsx)("img",{src:e.url,alt:"Imagen normal"})},t)}))}),(0,a.jsx)(p.Z,{children:(0,a.jsxs)(U.Z,{display:"flex",justifyContent:"flex-end",alignItems:"center",className:r.containerUpload,children:[(0,a.jsx)("input",{onChange:function(e){return t=e.target.files,void u(t);var t},multiple:!0,accept:"image/*",id:"upload",type:"file"}),(0,a.jsx)("label",{htmlFor:"upload",children:(0,a.jsx)(O.Z,{variant:"contained",color:"primary",className:r.uploadButton,component:"span",children:"Upload"})})]})})]})},M=function(){var e=W(),t=(0,l.useContext)(S.Co),n=t.assets,r=t.successCreate,o=(0,l.useState)([]),c=o[0],u=o[1];(0,l.useEffect)((function(){0!==c.length&&d()}),[c]);var d=function(){var e=(0,i.Z)(s().mark((function e(){var t,n,a,o,i,l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=c[0],console.log({selectedFile:t}),(n=new FormData).append("upload",t),e.next=7,F.Z.post(N.ns.urlUploadVideo360,n);case 7:return a=e.sent,console.log({response:a}),o={url:a.data,typeAsset:N.v2.VIDEO_360},e.next=12,F.Z.post(N.ns.createAsset,o);case 12:i=e.sent,l=i.data,console.log({data:l}),0===l.status&&r(l.asset),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(0),console.log({error:e.t0}),alert("Ha ocurrido un error al subir las imagenes");case 22:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(){return e.apply(this,arguments)}}();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(j,{cellHeight:100,className:e.gridList,cols:7,children:n.videos360.map((function(e,t){return(0,a.jsx)(E,{cols:1,style:{height:180},children:(0,a.jsx)("img",{src:e.thumbnail})},t)}))}),(0,a.jsx)(p.Z,{children:(0,a.jsxs)(U.Z,{display:"flex",justifyContent:"flex-end",alignItems:"center",className:e.containerUpload,children:[(0,a.jsx)("input",{onChange:function(e){return t=e.target.files,void u(t);var t},accept:"video/*",id:"upload",type:"file"}),(0,a.jsx)("label",{htmlFor:"upload",children:(0,a.jsx)(O.Z,{variant:"contained",color:"primary",className:e.uploadButton,component:"span",children:"Upload video 360"})})]})})]})},A=function(){var e=(0,l.useContext)(S.Co),t=e.assets,n=e.successCreate,r=(0,l.useState)([]),o=r[0],c=r[1],u=(0,l.useState)(""),d=(u[0],u[1]),f=(0,l.useState)("");f[0],f[1];(0,l.useEffect)((function(){0!==o.length&&h()}),[o]);var h=function(){var e=(0,i.Z)(s().mark((function e(){var t,r,a,i,l,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=o[0],(r=new FormData).append("upload",t),e.next=6,F.Z.post(N.ns.urlUploadVideo,r);case 6:return a=e.sent,i={url:a.data,typeAsset:N.v2.VIDEO},e.next=10,F.Z.post(N.ns.createAsset,i);case 10:l=e.sent,c=l.data,console.log({data:c}),0===c.status&&n(c.asset),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),console.log({error:e.t0}),alert("Ha ocurrido un error al subir las imagenes");case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}(),m=W();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(j,{cellHeight:100,className:m.gridList,cols:7,children:t.videos.map((function(e,t){return(0,a.jsx)(E,{cols:1,style:{height:180},children:(0,a.jsx)("img",{src:e.thumbnail,alt:"Video ".concat(t)})},t)}))}),(0,a.jsx)(p.Z,{children:(0,a.jsxs)(U.Z,{display:"flex",flexDirection:"column",justifyContent:"flex-end",alignItems:"center",className:m.containerUpload,children:[(0,a.jsx)("input",{onChange:function(e){return function(e){var t=URL.createObjectURL(e[0]);d(t),c(e)}(e.target.files)},accept:"video/*",id:"video_uploader",type:"file"}),(0,a.jsx)("label",{htmlFor:"video_uploader",children:(0,a.jsx)(O.Z,{variant:"contained",color:"primary",className:m.uploadButton,component:"span",children:"Upload video"})})]})})]})},R=function(){var e=(0,l.useState)([]),t=e[0],n=e[1],r=(0,l.useContext)(S.Co),o=r.assets,c=r.successCreate;(0,l.useEffect)((function(){0!==t.length&&d()}),[t]);var u=W(),d=function(){var e=(0,i.Z)(s().mark((function e(){var n,r,a,o,i,l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t[0],(r=new FormData).append("upload",n),e.next=6,F.Z.post(N.ns.urlUploadImage360,r);case 6:return a=e.sent,o={url:a.data,typeAsset:N.v2.IMG_360},e.next=10,F.Z.post(N.ns.createAsset,o);case 10:i=e.sent,0===(l=i.data).status&&c(l.asset),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),console.log({error:e.t0}),alert("Ha ocurrido un error al subir las imagenes");case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}();return(0,a.jsxs)(k.Z,{className:u.root,children:[(0,a.jsx)(j,{cellHeight:100,className:u.gridList,cols:7,children:o.images360.map((function(e){return(0,a.jsx)(E,{cols:1,style:{height:180},children:(0,a.jsx)("img",{src:e.url,alt:"Imagen 360"})},e.url)}))}),(0,a.jsx)(p.Z,{children:(0,a.jsxs)(U.Z,{display:"flex",justifyContent:"flex-end",alignItems:"center",className:u.containerUpload,children:[(0,a.jsx)("input",{onChange:function(e){return t=e.target.files,void n(t);var t},accept:"image/*",id:"video360_uploader",type:"file"}),(0,a.jsx)("label",{htmlFor:"video360_uploader",children:(0,a.jsx)(O.Z,{variant:"contained",color:"primary",className:u.uploadButton,component:"span",children:"Upload img 360"})})]})})]})},W=(0,c.Z)((function(e){return{root:{display:"flex",height:"100%",borderBottom:"2rem solid",borderTopColor:N.DM.GRAY_MEDIUM,borderBottomColor:N.DM.GRAY_MEDIUM},paper:{height:"100%"},containerUpload:{padding:"1rem"},uploadButton:{marginLeft:"1rem"},gridList:{width:"100%",height:"90%"}}})),_=(0,u.Z)({root:{borderBottom:"1px solid #e8e8e8"},indicator:{backgroundColor:"#1890ff"}})(f.Z),V=(0,u.Z)((function(e){return(0,d.Z)({root:{textTransform:"none",minWidth:72,fontWeight:e.typography.fontWeightRegular,marginRight:e.spacing(4),fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),"&:hover":{color:"#40a9ff",opacity:1},"&$selected":{color:"#1890ff",fontWeight:e.typography.fontWeightMedium},"&:focus":{color:"#40a9ff"}},selected:{}})}))((function(e){return(0,a.jsx)(h.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({disableRipple:!0},e))}))}}]);