(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[200],{18937:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return ee}});var r=t(85893),i=t(45258),l=t(28358),s=t(22318),a=t(12112),c=t(62822),o=t(50998),d=t(95757),u=t(41749),h=t(41120),g=t(67294),x=t(39983),j=t(28274),p=t(26265),f=t(14670),m=t(87623),b=t(282),Z=t(56847),y=t(79895),v=t(41423),C=t(14096),k=t(11738),w=t(64121),P=t(82302),S=t(83750),O=t(57394),E=t(99613),A=t(71267),D=t(79992),N=t(88222),T=t(93989),U=t(25946),I=t(30381),_=t.n(I),R=t(73431),z=(0,f.Z)((function(e){return(0,m.Z)({root:{height:"1rem"},head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}})}))(N.Z),M=(0,f.Z)((function(e){return(0,m.Z)({root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}})}))(O.Z),X=function(){var e=(0,g.useContext)(R.ZP),n=e.childrens,t=e.selectUser,i=e.selectedUser,l=e.suspendUserAdm,s=e.deleteUserAdm,a=e.getAdminChildDetail,c=(0,g.useState)(5),o=c[0],d=c[1],u=g.useState(0),h=(0,w.Z)(u,2),j=h[0],p=h[1],f=(0,g.useState)(!1),m=f[0],b=f[1],Z=(0,g.useState)(!1),y=Z[0],v=Z[1],C=(0,g.useState)(!1),k=C[0],N=C[1],I=n.admins,X=function(){b(!m)},W=function(){v(!y)};(0,g.useEffect)((function(){console.log("====>",n)}),[n]);var G=function(e){return console.log("==>",{status:e}),1===e?{color:"primary",name:"ACTIVE"}:2===e?{color:"secondary",name:"INACTIVE"}:3===e?{color:"secondary",name:"EXPIRED"}:{color:"default",name:"EXPIRED"}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(U.Z,{isOpen:m,handleClose:X,type:x.jA.ADMIN}),(0,r.jsx)(T.Z,{isOpen:y,handleClose:W,handleOk:function(){return s()},okText:"Sure",cancelText:"Cancel",title:"Delete User",subtitle:"Are you sure you want to delete ".concat(i?i.name:"this user"," ")}),(0,r.jsx)(T.Z,{isOpen:k,handleOk:function(){return l()},handleClose:function(){N(!k)},okText:"Sure",cancelText:"Cancel",title:"Suspend User",subtitle:"Are you sure you want to  ".concat(i.isActive?"suspend":"activate"," ").concat(i?"to "+i.name+"?":"this user?")}),(0,r.jsxs)(P.Z,{"aria-label":"customized table",children:[(0,r.jsx)(S.Z,{children:(0,r.jsxs)(O.Z,{children:[(0,r.jsx)(z,{align:"center",children:"Name"}),(0,r.jsx)(z,{align:"center",children:"Email"}),(0,r.jsx)(z,{align:"center",children:"Number of Invitations"}),(0,r.jsx)(z,{align:"center",children:"Total Cost"}),(0,r.jsx)(z,{align:"center",children:"Period"}),(0,r.jsx)(z,{align:"center",children:"Time Remaining"}),(0,r.jsx)(z,{align:"center",children:"Estatus"}),(0,r.jsx)(z,{align:"center",children:"Registration Date"}),(0,r.jsx)(z,{align:"center",children:"Edit"}),(0,r.jsx)(z,{align:"center",children:"Suspend"}),(0,r.jsx)(z,{align:"center",children:"Delete"})]})}),(0,r.jsx)(E.Z,{children:I.map((function(e){return(0,r.jsxs)(M,{children:[(0,r.jsx)(z,{align:"center",component:"th",scope:"user",children:e.name}),(0,r.jsx)(z,{align:"center",children:e.email}),(0,r.jsx)(z,{align:"center",children:e.lastSuscription.invitations}),(0,r.jsx)(z,{align:"center",children:e.lastSuscription.cost}),(0,r.jsxs)(z,{align:"center",children:[_()().calendar(e.lastSuscription.startedAt),"|",_()().calendar(e.lastSuscription.finishedAt)]}),(0,r.jsx)(z,{align:"center",children:_()(e.lastSuscription.finishedAt).from(_()())}),(0,r.jsx)(z,{align:"center",children:(0,r.jsx)(A.Z,{size:"small",label:G(e.status).name,clickable:!0,color:G(e.status).color})}),(0,r.jsx)(z,{align:"center",children:_()().calendar(e.lastSuscription.createdAt)}),(0,r.jsxs)(z,{align:"right",children:[" ",(0,r.jsx)(A.Z,{size:"small",label:"Edit",onClick:function(){return n=e,X(),t(n,x.nb.ADMIN),void a();var n},clickable:!0,color:"primary"})," "]}),(0,r.jsxs)(z,{align:"right",children:[" ",(0,r.jsx)(A.Z,{size:"small",label:"".concat(e.isActive?"suspend":"activate"),clickable:!0,onClick:function(){return n=e,console.log({dataUser:n}),N(!0),void t(n,x.nb.ADMIN);var n},color:"primary"})," "]}),(0,r.jsxs)(z,{align:"right",children:[" ",(0,r.jsx)(A.Z,{size:"small",label:"Delete",onClick:function(){return n=e,W(),void t(n,x.nb.ADMIN);var n},clickable:!0,color:"secondary"})," "]})]},e.email)}))}),(0,r.jsx)(D.Z,{rowsPerPageOptions:[5,10,25],count:I.length,rowsPerPage:o,page:j,onChangePage:function(e,n){p(n)},onChangeRowsPerPage:function(e){d(parseInt(e.target.value,10)),p(0)}})]})]})},W=t(809),G=t.n(W),V=t(92447),F=function(){var e=(0,g.useState)(!1),n=e[0],t=e[1],i=(0,g.useState)(!1),l=i[0],s=i[1],a=(0,g.useState)(!1),c=a[0],o=a[1],d=(0,g.useState)(5),u=d[0],h=d[1],j=g.useState(0),p=(0,w.Z)(j,2),f=p[0],m=p[1],b=(0,g.useContext)(R.ZP),Z=b.childrens,y=b.selectUser,v=b.getUserChildDetail,C=b.selectedUser,k=b.deleteUser,N=b.suspendUser,I=Z.users;(0,g.useEffect)((function(){console.log("Me estoy renderizando")}),[]),(0,g.useEffect)((function(){console.log({isOpenUserDetailModal:n})}),[n]);var X=function(){o(!c)},W=function(){console.log("Togleando",{isOpenUserDetailModal:n}),t(!n)},F=function(){var e=(0,V.Z)(G().mark((function e(n){return G().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(n,x.nb.GUEST),W(),e.next=4,v();case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),B=function(e){return console.log("==>",{status:e}),1===e?{color:"primary",name:"ACTIVE"}:2===e?{color:"secondary",name:"INACTIVE"}:3===e?{color:"secondary",name:"EXPIRED"}:{color:"default",name:"EXPIRED"}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(U.Z,{isOpen:n,handleClose:W,type:x.jA.GUEST}),(0,r.jsx)(T.Z,{isOpen:c,handleClose:X,handleOk:function(){return k()},okText:"Sure",cancelText:"Cancel",title:"Delete User",subtitle:"Are you sure you want to delete ".concat(C?C.name:"this user"," ")}),(0,r.jsx)(T.Z,{isOpen:l,handleOk:function(){return N()},handleClose:function(){s(!l)},okText:"Sure",cancelText:"Cancel",title:"Suspend User",subtitle:"Are you sure you want to  ".concat(C.isActive?"suspend":"activate"," ").concat(C?"to "+C.name+"?":"this user?")}),(0,r.jsxs)(P.Z,{"aria-label":"customized table",children:[(0,r.jsx)(S.Z,{children:(0,r.jsxs)(O.Z,{children:[(0,r.jsx)(z,{align:"center",children:"Name"}),(0,r.jsx)(z,{align:"center",children:"Email"}),(0,r.jsx)(z,{align:"center",children:"Total Cost"}),(0,r.jsx)(z,{align:"center",children:"Period"}),(0,r.jsx)(z,{align:"center",children:"Time Remaining"}),(0,r.jsx)(z,{align:"center",children:"Estatus"}),(0,r.jsx)(z,{align:"center",children:"Registration Date"}),(0,r.jsx)(z,{align:"center",children:"Edit"}),(0,r.jsx)(z,{align:"center",children:"Suspend"}),(0,r.jsx)(z,{align:"center",children:"Delete"})]})}),(0,r.jsx)(E.Z,{children:I.map((function(e){return(0,r.jsxs)(M,{children:[(0,r.jsx)(z,{align:"center",component:"th",scope:"row",children:e.name}),(0,r.jsx)(z,{align:"center",children:e.email}),(0,r.jsx)(z,{align:"center",children:e.lastSuscription.cost}),(0,r.jsxs)(z,{align:"center",children:[_()().calendar(e.lastSuscription.startedAt),"|",_()().calendar(e.lastSuscription.finishedAt)]}),(0,r.jsx)(z,{align:"center",children:_()(e.lastSuscription.finishedAt).from(_()())}),(0,r.jsx)(z,{align:"center",children:(0,r.jsx)(A.Z,{size:"small",label:B(e.status).name,clickable:!0,color:B(e.status).color})}),(0,r.jsx)(z,{align:"center",children:_()().calendar(e.lastSuscription.createdAt)}),(0,r.jsxs)(z,{align:"right",children:[" ",(0,r.jsx)(A.Z,{size:"small",label:"Edit",onClick:function(){return F(e)},clickable:!0,color:"primary"})," "]}),(0,r.jsxs)(z,{align:"right",children:[" ",(0,r.jsx)(A.Z,{size:"small",label:"".concat(e.isActive?"suspend":"activate"),clickable:!0,onClick:function(){return n=e,console.log({dataUser:n}),s(!0),void y(n,x.nb.ADMIN);var n},color:"primary"})," "]}),(0,r.jsxs)(z,{align:"right",children:[" ",(0,r.jsx)(A.Z,{size:"small",label:"Delete",onClick:function(){return n=e,X(),void y(n,x.nb.ADMIN);var n},clickable:!0,color:"secondary"})," "]})]},e.name)}))}),(0,r.jsx)(D.Z,{rowsPerPageOptions:[5,10,25],count:I.length,rowsPerPage:u,page:f,onChangePage:function(e,n){m(n)},onChangeRowsPerPage:function(e){h(parseInt(e.target.value,10)),m(0)}})]})]})};function B(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}var H=(0,f.Z)((function(e){return(0,m.Z)({root:{display:"flex",height:"100%"},selected:{}})}))((function(e){return(0,r.jsx)(v.Z,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?B(Object(t),!0).forEach((function(n){(0,p.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):B(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({disableRipple:!0},e))})),L=(0,h.Z)((function(e){return{root:{display:"flex",height:"100%"},demo1:{position:"relative",backgroundColor:e.palette.background.paper,width:"100%",maxWidth:"100%",minWidth:"100%",height:"100%"}}})),q=(0,f.Z)({root:{borderBottom:"1px solid #e8e8e8",display:"flex"},indicator:{backgroundColor:"#1890ff"}})(C.Z),J=function(){var e=(0,g.useState)(x.Z3),n=e[0],t=e[1],i=(0,g.useContext)(R.ZP),l=i.getUserChildrens;i.loading;(0,g.useEffect)((function(){l()}),[]);var s=(0,g.useState)(!1),a=s[0],c=s[1],o=function(){c(!0)},d=L();return(0,r.jsxs)("div",{className:d.root,children:[a&&(0,r.jsx)(k.Z,{type:n,isOpen:a,handleClose:function(){c(!1)},handleOpen:o}),(0,r.jsxs)("div",{className:d.demo1,children:[(0,r.jsxs)(q,{value:n,onChange:function(e,n){t(n)},"aria-label":"ant example",children:[(0,r.jsx)(H,{label:"Companies"}),(0,r.jsx)(H,{label:"Guest"}),n===x.Z3?(0,r.jsx)(b.Z,{style:{height:"80%",margin:"auto"},onClick:o,variant:"contained",color:"primary",children:"New company"}):n===x._5?(0,r.jsx)(b.Z,{style:{height:"80%",margin:"auto"},onClick:o,variant:"contained",color:"primary",children:"New guest"}):void 0]}),(0,r.jsxs)(Z.Z,{component:y.Z,children:[n===x.Z3&&(0,r.jsx)(X,{}),n===x._5&&(0,r.jsx)(F,{})]}),":"]})]})},K=t(37067),Q=t(20196),Y=t(91027),$=(0,h.Z)((function(e){return{root:{display:"flex",height:"100vh",overflow:"hidden"},inner:{display:"flex",paddingTop:"4.1rem",height:"100%",width:"100%"},link:{color:"white",fontWeight:"bold"},toolbar:{paddingRight:24},titleSection:{height:"8%",color:"black",backgroundColor:"red"},title:{flexGrow:1},drawerPaper:{position:"static",width:240,height:"100%",justifyContent:"space-between",backgroundColor:x.DM.gray},content:{height:"100%",display:"flex",flexDirection:"column",overflow:"auto",overflowX:"hidden",width:"100%",backgroundColor:x.DM.gray}}})),ee=(0,Q.Z)((function(){var e=$(),n=(0,g.useState)(0),t=n[0],h=n[1],p=(0,g.useContext)(Y.Z).logout;return(0,r.jsx)("div",{className:e.root,children:(0,r.jsxs)("div",{className:e.inner,children:[(0,r.jsx)(i.Z,{style:{backgroundColor:x.DM.gray},children:(0,r.jsx)(l.Z,{className:e.toolbar,children:(0,r.jsx)(s.Z,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:e.title,children:"OCUPATH"})})}),(0,r.jsxs)(a.ZP,{variant:"permanent",classes:{paper:e.drawerPaper},children:[(0,r.jsxs)(c.Z,{children:[(0,r.jsx)(o.Z,{button:!0,selected:0===t,onClick:function(){h(0)},children:(0,r.jsx)(d.Z,{className:e.link,primary:"Profile"})}),(0,r.jsx)(o.Z,{button:!0,selected:1===t,onClick:function(){h(1)},children:(0,r.jsx)(d.Z,{className:e.link,primary:"User"})})]}),(0,r.jsx)(c.Z,{children:(0,r.jsx)(o.Z,{button:!0,children:(0,r.jsx)("button",{onClick:function(){return p()},children:(0,r.jsx)(d.Z,{primary:"Logout"})})})})]}),(0,r.jsx)("main",{className:e.content,children:(0,r.jsxs)(u.Z,{justify:"center",alignItems:"center",direction:"row",container:!0,style:{height:"85%"},children:[(0,r.jsx)(u.Z,{item:!0,xs:12,md:11,lg:11,justify:"center",style:{marginTop:K.Z.spacing(3),height:"8%"},children:(0,r.jsx)(s.Z,{style:{fontWeight:"bold",color:"white"},component:"h1",variant:"h4",children:"Profile"})}),(0,r.jsxs)(u.Z,{item:!0,xs:12,md:11,lg:11,style:{height:"100%"},children:[0===t&&(0,r.jsx)(j.Z,{type:x.nb.SUPER}),1===t&&(0,r.jsx)(J,{})]})]})})]})})}))},60707:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/superadmin",function(){return t(18937)}])}},function(e){e.O(0,[885,544,282,253,15,725,140,436,774,888,179],(function(){return n=60707,e(e.s=n);var n}));var n=e.O();_N_E=n}]);